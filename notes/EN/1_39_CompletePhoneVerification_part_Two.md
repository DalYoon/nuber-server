# 1.39 CompletePhoneVerification part Two

## section.log

- very important lecture
- vericifation process

## tips

- phone verification process:
  1.  user input phone number and click `send verification key` button
  2.  it calls `StartPhoneVerification` mutation with phone number to verify
  3.  `StartPhoneVericitaion` resolver inserts a verification data below
  ```json
  verification {
      "target": "PHONE",
      "payload": "<phone number>",
      "key": "<verification key generated by `@BeforeInsert` in entity>",
      "verified": false(default),
      "createdAt": "<created time>",
      "updatedAt": "<updated time>"
  }
  ```
  4.  then, resolver calls `sendSMS/sendVerification` with payload(phone number), key(generated above) - sending SMS
  5.  user checks the SMS(user's got key at thie point)
  6.  user input the key, then click `verify` button
  7.  the button calls `CompletePhoneVerification` mutation with payload(phone number), key(what user input in step 6)
  8.  it finds the same pair in the Verification data
  9.  finish verification
      - if same pair be found, it finds the user who has same phone number and changes verification status<br>
        `User.verifiedPhoneNumber = true;`
      - if the phone number and key are not matched, it returns an error

## issue

- none

## links

## added dependencies

### dependencies

### devDependencies
